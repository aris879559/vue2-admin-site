{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  name: 'CommonTag',\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState({\n      tags: state => state.tab.tabsList\n    })\n  },\n  methods: {\n    ...mapMutations(['closeTag']),\n    // 点击tag跳转功能\n    changeMenu(item) {\n      console.log(item);\n      this.$router.push({\n        name: item.name\n      });\n    },\n    // 点击tag删除功能 \n    handleClose(item, index) {\n      //  调用store中的mutation\n      this.closeTag(item);\n      const length = this.tags.length;\n      // 删除之后的跳转逻辑\n      if (item.name !== this.$route.name) {\n        return;\n      }\n      // 表示的是删除的最后一项\n      if (index === length) {\n        this.$router.push({\n          name: this.tags[index - 1].name\n        });\n      } else {\n        this.$router.tags[index].name;\n      }\n    }\n  },\n  mounted() {\n    // console.log(this.$route.name, this.tags)\n    console.log(this.$route, this.tags);\n  }\n};","map":{"version":3,"names":["mapState","mapMutations","name","data","computed","tags","state","tab","tabsList","methods","changeMenu","item","console","log","$router","push","handleClose","index","closeTag","length","$route","mounted"],"sources":["src/components/CommonTag.vue"],"sourcesContent":["<template>\r\n  <div class=\"tabs\">\r\n    <el-tag\r\n      v-for=\"(item, index) in tags\"\r\n      :key=\"item.path\"\r\n      :closable=\"item.name !== 'home'\"\r\n      :effect=\"$route.name === item.name ? 'dark' : 'plain'\"\r\n      @click=\"changeMenu(item)\"\r\n      @close=\"handleClose(item, index)\"\r\n      size=\"small\">\r\n      {{ item.label }}\r\n    </el-tag>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex'\r\nexport default {\r\n  name: 'CommonTag',\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      tags: state => state.tab.tabsList\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapMutations(['closeTag']),\r\n    // 点击tag跳转功能\r\n    changeMenu(item) {\r\n      console.log(item)\r\n      this.$router.push({ name: item.name })\r\n    },\r\n    // 点击tag删除功能 \r\n    handleClose(item, index) {\r\n      //  调用store中的mutation\r\n      this.closeTag(item)\r\n      const length = this.tags.length\r\n      // 删除之后的跳转逻辑\r\n      if (item.name !== this.$route.name) {\r\n        return\r\n      }\r\n      // 表示的是删除的最后一项\r\n      if (index === length) {\r\n        this.$router.push({\r\n          name: this.tags[index - 1].name\r\n        })\r\n      } else {\r\n        this.$router.tags[index].name\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // console.log(this.$route.name, this.tags)\r\n    console.log(this.$route, this.tags)\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.tabs {\r\n  padding: 20px;\r\n  .el-tag {\r\n    margin-right: 15px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>"],"mappings":";AAeA,SAAAA,QAAA,EAAAC,YAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAJ,QAAA;MACAK,IAAA,EAAAC,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAC;IACA;EACA;EACAC,OAAA;IACA,GAAAR,YAAA;IACA;IACAS,WAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,IAAA;MACA,KAAAG,OAAA,CAAAC,IAAA;QAAAb,IAAA,EAAAS,IAAA,CAAAT;MAAA;IACA;IACA;IACAc,YAAAL,IAAA,EAAAM,KAAA;MACA;MACA,KAAAC,QAAA,CAAAP,IAAA;MACA,MAAAQ,MAAA,QAAAd,IAAA,CAAAc,MAAA;MACA;MACA,IAAAR,IAAA,CAAAT,IAAA,UAAAkB,MAAA,CAAAlB,IAAA;QACA;MACA;MACA;MACA,IAAAe,KAAA,KAAAE,MAAA;QACA,KAAAL,OAAA,CAAAC,IAAA;UACAb,IAAA,OAAAG,IAAA,CAAAY,KAAA,MAAAf;QACA;MACA;QACA,KAAAY,OAAA,CAAAT,IAAA,CAAAY,KAAA,EAAAf,IAAA;MACA;IACA;EACA;EACAmB,QAAA;IACA;IACAT,OAAA,CAAAC,GAAA,MAAAO,MAAA,OAAAf,IAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}